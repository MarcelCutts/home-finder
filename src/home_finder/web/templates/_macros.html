{# Reusable UI macros for property templates #}

{%- macro quality_badge(value, green_values, amber_values, red_values) -%}
<span class="badge {% if value in green_values %}badge-green{% elif value in amber_values %}badge-amber{% elif value in red_values %}badge-red{% else %}badge-neutral{% endif %}">{{ caller() }}</span>
{%- endmacro -%}

{%- macro quality_item_class(value, excellent_values, fair_values, poor_values) -%}
quality-item quality-item{% if value in excellent_values %}-excellent{% elif value in fair_values %}-fair{% elif value in poor_values %}-poor{% else %}-neutral{% endif %}
{%- endmacro -%}

{%- macro fit_badge(score) -%}
{% if score is not none %}
<div class="fit-badge {% if score >= 80 %}fit-green{% elif score >= 60 %}fit-accent{% elif score >= 40 %}fit-amber{% else %}fit-dim{% endif %}" title="Marcel Fit Score: {{ score }}">{{ score }}</div>
{% endif %}
{%- endmacro -%}

{%- macro lifestyle_icons(icons) -%}
{% if icons %}
<div class="card-lifestyle">
    <span class="lifestyle-icon" data-state="{{ icons.workspace.state }}" title="{{ icons.workspace.tooltip }}"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="2" y="3" width="12" height="8" rx="1" stroke="currentColor" stroke-width="1.5"/><line x1="8" y1="11" x2="8" y2="14" stroke="currentColor" stroke-width="1.5"/><line x1="5" y1="14" x2="11" y2="14" stroke="currentColor" stroke-width="1.5"/></svg></span>
    <span class="lifestyle-icon" data-state="{{ icons.hosting.state }}" title="{{ icons.hosting.tooltip }}"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 2C8 2 6 5 6 7.5C6 8.88 7.12 10 8 10C8.88 10 10 8.88 10 7.5C10 5 8 2 8 2Z" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 12C5.5 11 6.5 11.5 8 11.5C9.5 11.5 10.5 11 12 12" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="4" y1="14" x2="12" y2="14" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/></svg></span>
    <span class="lifestyle-icon" data-state="{{ icons.kitchen.state }}" title="{{ icons.kitchen.tooltip }}"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 2V6M8 6C8 7.1 7.1 8 6 8H10C8.9 8 8 7.1 8 6Z" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/><path d="M5.5 8V14" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><path d="M10.5 2V5C10.5 6.66 10.5 8 10.5 8V14" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/></svg></span>
    <span class="lifestyle-icon" data-state="{{ icons.vibe.state }}" title="{{ icons.vibe.tooltip }}"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 1.5L9.5 5.5L13.5 6L10.5 9L11.5 13.5L8 11.5L4.5 13.5L5.5 9L2.5 6L6.5 5.5L8 1.5Z" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
    <span class="lifestyle-icon" data-state="{{ icons.space.state }}" title="{{ icons.space.tooltip }}"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><polyline points="10,2 14,2 14,6" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/><polyline points="6,14 2,14 2,10" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/><line x1="14" y1="2" x2="9.5" y2="6.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="2" y1="14" x2="6.5" y2="9.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/></svg></span>
</div>
{% endif %}
{%- endmacro -%}

{%- macro commute_pill(minutes, transport_mode=None) -%}
{% if minutes is not none and minutes %}
{% if minutes <= 15 %}
<span class="commute-pill commute-green">{{ minutes }} min{% if transport_mode == "cycling" %} &#128692;{% elif transport_mode == "public_transport" %} &#128647;{% endif %}</span>
{% elif minutes <= 30 %}
<span class="commute-pill commute-indigo">{{ minutes }} min{% if transport_mode == "cycling" %} &#128692;{% elif transport_mode == "public_transport" %} &#128647;{% endif %}</span>
{% elif minutes <= 45 %}
<span class="commute-pill commute-amber">{{ minutes }} min{% if transport_mode == "cycling" %} &#128692;{% elif transport_mode == "public_transport" %} &#128647;{% endif %}</span>
{% else %}
<span class="commute-pill commute-red">{{ minutes }} min{% if transport_mode == "cycling" %} &#128692;{% elif transport_mode == "public_transport" %} &#128647;{% endif %}</span>
{% endif %}
{% endif %}
{%- endmacro -%}
